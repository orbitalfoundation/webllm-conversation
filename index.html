<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Conversational Puppets</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			line-height: 1.6;
			color: #333;
			max-width: 800px;
			margin: 0 auto;
			padding: 20px;
			background-color: #f4f4f4;
		}
		h1 {
			color: #2c3e50;
			text-align: center;
		}
		#system-content-container, #chat-container {
			background-color: #fff;
			border-radius: 8px;
			padding: 20px;
			margin-bottom: 20px;
			box-shadow: 0 2px 4px rgba(0,0,0,0.1);
		}
		label {
			display: block;
			margin-bottom: 5px;
			font-weight: bold;
		}
		textarea, input[type="text"] {
			width: 100%;
			padding: 10px;
			margin-bottom: 10px;
			border: 1px solid #ddd;
			border-radius: 4px;
			box-sizing: border-box;
		}
		button {
			background-color: #3498db;
			color: #fff;
			border: none;
			padding: 10px 15px;
			border-radius: 4px;
			cursor: pointer;
			transition: background-color 0.3s;
		}
		button:hover {
			background-color: #2980b9;
		}
		#messages {
			height: 300px;
			overflow-y: scroll;
			border: 1px solid #ddd;
			padding: 10px;
			margin-bottom: 10px;
			background-color: #fff;
			border-radius: 4px;
		}
		#chat-form {
			display: flex;
		}
		#message-input {
			flex-grow: 1;
			margin-right: 10px;
		}
		#status-box {
			text-align: center;
			padding: 10px;
			margin-bottom: 20px;
			border-radius: 4px;
			font-weight: bold;
		}
		.status-ready {
			background-color: #2ecc71;
			color: #fff;
		}
		.status-thinking {
			background-color: #f1c40f;
			color: #333;
		}
		.status-speaking {
			background-color: #e74c3c;
			color: #fff;
		}
		.status-loading {
			background-color: #c0392b;
			color: #fff;
		}
	</style>
</head>
<body>
	<h1>Conversational Puppets</h1>
	<div id="status-box" class="status-loading">Loading...</div>
	<div id="system-content-container">
		<label for="system-content-input">System Content:</label>
		<textarea id="system-content-input" rows="4" placeholder="Enter system content..."></textarea>
	</div>
	<div id="chat-container">
		<div id="messages"></div>
		<form id="chat-form">
			<input type="text" id="message-input" placeholder="Type your message..." autofocus>
			<button type="submit">Send</button>
		</form>
		<button id='voice-button'>Click to enable Voice Input</button>
	</div>


<h1>Version 0 Notes</h1>
	<p style="text-align: center; margin-bottom: 20px;">

Note: you will need some beefy hardware to run this at speed. This is a conversational puppet framework that will be incrementally enhanced. For the first version the goal handle user input through a text chat window with a limited message history - entirely on the client using web-llm. It should be capable of sending user prompts to a large language model (LLM) and receiving responses, which will be broken down into "breath" segments—each representing approximately one human breath of speech. The responses should be visible to the user, and the system must allow for interruptions, including stopping the LLM at any point. Additionally, we want to clearly indicate when the LLM is thinking or speaking versus when it is ready for new input.
<br/>
<br/>
View source at <a href="https://github.com/makerlab/puppet" target="_blank" rel="noopener noreferrer">github/makerlab/puppet</a>
<br/>
· Based on work by <a href="https://github.com/mlc-ai/web-llm" target="_blank" rel="noopener noreferrer">github/mlc-ai/web-llm</a> 
<br/>

· Open Source MIT License 
</p>
</body>
</html>
<script type="module" src="./dist/main.js"></script>
